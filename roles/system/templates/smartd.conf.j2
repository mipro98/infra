# /etc/smartd.conf generated by Ansible script https://github.com/mipro98/infra

# Explaination of attributes
# -a                                monitor all attributes
# -d sat                            device type: https://man.archlinux.org/man/smartd.conf.5#d Must be present and be correct, otherwise systemctl status will return error
# -o on                             enable automatic offline data collection
# -S on                             enable automatic attribute autosave
# -n standby,q                      do not check if disk is in standby, and suppress log message to that effect so as not to cause a write to disk
# -W 4,35,60                        monitor temperature: log on changes of 4°C from 35°C and send email when 60° is reached
# -m                                mail alerts (sendmail / s-nail / mail / msmpt)
# -s (S/../.././05|L/../../6/04)    REGEXP for schedule of self-tests which matches "T/MM/DD/d/HH"
#                                   See https://man.archlinux.org/man/smartd.conf.5#s.
#                                   start a short self-test every day between 5-6am, and an extended self test weekly on Saturdays between 4-5am


/dev/disk/by-uuid/{{ uuid_nas_drive }} -a -d sat -o on -S on -n standby,q -s (S/../.././05|L/../../6/04) -W 4,35,60 -m {{ email_alerts_receiver }}
/dev/disk/by-uuid/{{ uuid_backup_drive }} -a -d sat -o on -S on -n standby,q -s (S/../.././05|L/../../6/04) -W 4,35,60 -m {{ email_alerts_receiver }}
